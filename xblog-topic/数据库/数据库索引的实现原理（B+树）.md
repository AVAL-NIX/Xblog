---
submitToken: E7A5F29112CE9DA3C360C8CB0A9BD2331B1C4C66CFFB3AF5DD2E11410022927D
title: 数据库索引的实现原理（B+树）
channel: topic
labels: 数据库
---

见[数据结构部分：B树，B+树](https://github.com/wolverinn/Iridescent/blob/master/Data%20Structure.md#b%E6%A0%91)

## 使用B树和B+树的比较

> nnoDB的索引使用的是B+树实现

B+树对比B树的好处：

- **IO次数少**：B+树的中间结点只存放索引，数据都存在叶结点中，因此中间结点可以存更多的数据，让索引树更加矮胖；

- **范围查询效率更高**：B树需要中序遍历整个树，只B+树需要遍历叶结点中的链表；

- **查询效率更加稳定**：每次查询都需要从根结点到叶结点，路径长度相同，所以每次查询的效率都差不多

## 使用B树索引和哈希索引的比较

- 哈希索引能以 O(1) 时间进行查找，但是只支持精确查找，无法用于部分查找和范围查找，无法用于排序与分组；

- B树索引支持大于小于等于查找，范围查找。

- 哈希索引遇到大量哈希值相等的情况后查找效率会降低。哈希索引不支持数据的排序。